export function sampleRUM(e,t={}){sampleRUM.defer=sampleRUM.defer||[];const a=e=>{sampleRUM[e]=sampleRUM[e]||((...t)=>sampleRUM.defer.push({fnname:e,args:t}))};sampleRUM.drain=sampleRUM.drain||((e,t)=>{sampleRUM[e]=t,sampleRUM.defer.filter((({fnname:t})=>e===t)).forEach((({fnname:e,args:t})=>sampleRUM[e](...t)))}),sampleRUM.always=sampleRUM.always||[],sampleRUM.always.on=(e,t)=>{sampleRUM.always[e]=t},sampleRUM.on=(e,t)=>{sampleRUM.cases[e]=t},a("observe"),a("cwv");try{if(window.hlx=window.hlx||{},!window.hlx.rum){const e="on"===new URLSearchParams(window.location.search).get("rum")?1:100,t=Array.from({length:75},((e,t)=>String.fromCharCode(48+t))).filter((e=>/\d|[A-Z]/i.test(e))).filter((()=>75*Math.random()>70)).join(""),a=Math.random(),o=a*e<1,n=Date.now(),s={full:()=>window.location.href,origin:()=>window.location.origin,path:()=>window.location.href.replace(/\?.*$/,"")};window.hlx.rum={weight:e,id:t,random:a,isSelected:o,firstReadTime:n,sampleRUM:sampleRUM,sanitizeURL:s[window.hlx.RUM_MASK_URL||"path"]}}const{weight:a,id:o,firstReadTime:n}=window.hlx.rum;if(window.hlx&&window.hlx.rum&&window.hlx.rum.isSelected){const s=["weight","id","referer","checkpoint","t","source","target","cwv","CLS","FID","LCP","INP"],i=(i=t)=>{const r=JSON.stringify({weight:a,id:o,referer:window.hlx.rum.sanitizeURL(),checkpoint:e,t:Date.now()-n,...t},s),l=`https://rum.hlx.page/.rum/${a}`;navigator.sendBeacon(l,r)};sampleRUM.cases=sampleRUM.cases||{cwv:()=>sampleRUM.cwv(t)||!0,lazy:()=>{const e=document.createElement("script");return e.src="https://rum.hlx.page/.rum/@adobe/helix-rum-enhancer@^1/src/index.js",document.head.appendChild(e),!0}},i(t),sampleRUM.cases[e]&&sampleRUM.cases[e]()}sampleRUM.always[e]&&sampleRUM.always[e](t)}catch(e){}}export async function loadCSS(e){return new Promise(((t,a)=>{if(document.querySelector(`head > link[href="${e}"]`))t();else{const o=document.createElement("link");o.rel="stylesheet",o.href=e,o.onload=t,o.onerror=a,document.head.append(o)}}))}export async function loadScript(e,t){return new Promise(((a,o)=>{if(document.querySelector(`head > script[src="${e}"]`))a();else{const n=document.createElement("script");if(n.src=e,t)for(const e in t)n.setAttribute(e,t[e]);n.onload=a,n.onerror=o,document.head.append(n)}}))}export function getMetadata(e){const t=e&&e.includes(":")?"property":"name";return[...document.head.querySelectorAll(`meta[${t}="${e}"]`)].map((e=>e.content)).join(", ")||""}export function toClassName(e){return"string"==typeof e?e.toLowerCase().replace(/[^0-9a-z]/gi,"-").replace(/-+/g,"-").replace(/^-|-$/g,""):""}export function toCamelCase(e){return toClassName(e).replace(/-([a-z])/g,(e=>e[1].toUpperCase()))}export function getAllMetadata(e){return[...document.head.querySelectorAll(`meta[property^="${e}:"],meta[name^="${e}-"]`)].reduce(((t,a)=>(t[toClassName(a.name?a.name.substring(e.length+1):a.getAttribute("property").split(":")[1])]=a.getAttribute("content"),t)),{})}function mapOnelinkClass(e){return e.startsWith("onelinkshow-")?`OneLinkShow_${e.substring(e.lastIndexOf("-")+1)}`:e.startsWith("onelinkhide")?e.indexOf("-")>-1?`OneLinkHide_${e.substring(e.lastIndexOf("-")+1)}`:"OneLinkHide":e}export function decorateIcons(e=document){e.querySelectorAll("span.icon").forEach((async e=>{if(e.classList.length<2||!e.classList[1].startsWith("icon-")||0!==e.children.length)return;const t=e.classList[1].substring(5);if(t.startsWith("fa")){const a=document.createElement("i");return a.setAttribute("aria-hidden","true"),a.className=`fa ${t}`,void e.replaceWith(a)}const a=await fetch(`${window.hlx.codeBasePath}/icons/${t}.svg`);if(a.ok){const o=await a.text();if(o.match(/<style/i)){const a=document.createElement("img");a.src=`data:image/svg+xml,${encodeURIComponent(o)}`,a.alt=`${t.split("-").join(" ")}`,e.appendChild(a)}else e.innerHTML=o}}))}export async function fetchPlaceholders(e="default"){window.placeholders=window.placeholders||{};return window.placeholders[`${e}-loaded`]||(window.placeholders[`${e}-loaded`]=new Promise(((t,a)=>{try{fetch(`${"default"===e?"":e}/placeholders.json`).then((e=>e.json())).then((a=>{const o={};a.data.forEach((e=>{o[toCamelCase(e.Key)]=e.Text})),window.placeholders[e]=o,t()}))}catch(t){window.placeholders[e]={},a()}}))),await window.placeholders[`${e}-loaded`],window.placeholders[e]}function decorateBlockLocale(e){const t=["en","jp","de","fr","ko","it","es","zh"],a=[];e.classList.forEach((o=>{2===o.length&&t.includes(o)&&(a.push(o),"en"!==o?(e.classList.add(`OneLinkShow_${o}`),e.parentElement.classList.add(`OneLinkShow_${o}`)):(e.classList.add("OneLinkHide"),e.parentElement.classList.add("OneLinkHide")))})),0===a.length||a.includes(document.documentElement.getAttribute("original-lang"))||(e.setAttribute("data-block-status","loaded"),e.setAttribute("data-block-skip",!0),e.setAttribute("data-block-skip-reason","locale"),e.innerHTML="")}export function decorateBlock(e){const t=e.classList[0];if(t){e.classList.add("block"),e.setAttribute("data-block-name",t),e.setAttribute("data-block-status","initialized");e.parentElement.classList.add(`${t}-wrapper`);const a=e.closest(".section");a&&a.classList.add(`${t}-container`),decorateBlockLocale(e)}}export function readBlockConfig(e){const t={};return e.querySelectorAll(":scope>div").forEach((e=>{if(e.children){const a=[...e.children];if(a[1]){const o=a[1],n=toClassName(a[0].textContent);let s="";if(o.querySelector("a")){const e=[...o.querySelectorAll("a")];s=1===e.length?e[0].href:e.map((e=>e.href))}else if(o.querySelector("img")){const e=[...o.querySelectorAll("img")];s=1===e.length?e[0].src:e.map((e=>e.src))}else if(o.querySelector("p")){const e=[...o.querySelectorAll("p")];s=1===e.length?e[0].textContent:e.map((e=>e.textContent))}else s=e.children[1].textContent;t[n]=s}}})),t}export function decorateSections(e){const t=window.matchMedia("only screen and (min-width: 400px)");e.querySelectorAll(":scope > div").forEach((e=>{const a=[];let o=!1;[...e.children].forEach((e=>{if("DIV"===e.tagName||!o){const t=document.createElement("div");a.push(t),o="DIV"!==e.tagName,o&&t.classList.add("default-content-wrapper")}a[a.length-1].append(e)})),a.forEach((t=>e.append(t))),e.classList.add("section"),e.setAttribute("data-section-status","initialized");const n=e.querySelector("div.section-metadata");if(n){const a=readBlockConfig(n);Object.keys(a).forEach((o=>{if("style"===o){a.style.split(",").map((e=>mapOnelinkClass(toClassName(e.trim())))).forEach((t=>e.classList.add(t)))}else if("background"===o){const{background:o}=a;if(o.startsWith("http")){const a=new URL(o,window.location.href),{pathname:n}=a,s=[],i=["webply",n.substring(n.lastIndexOf(".")+1)];t.matches?i.forEach((e=>s.push(`url(${n}?width=2000&format=${e}&optimize=medium)`))):i.forEach((e=>s.push(`url(${n}?width=750&format=${e}&optimize=medium)`))),e.style.backgroundImage=s.join(", ")}else e.style.background=o}else"name"===o?(e.dataset[toCamelCase(o)]=toClassName(a[o]),e.title=a[o]):e.dataset[toCamelCase(o)]=a[o]})),n.parentNode.remove()}}))}export function updateSectionsStatus(e){if(!e)return;const t=[...e.querySelectorAll(":scope > div.section")];for(let e=0;e<t.length;e+=1){const a=t[e];if("loaded"!==a.getAttribute("data-section-status")){if(a.querySelector('.block[data-block-status="initialized"], .block[data-block-status="loading"]')){a.setAttribute("data-section-status","loading");break}a.setAttribute("data-section-status","loaded")}}}export function decorateBlocks(e){e.querySelectorAll("div.section > div > div").forEach(decorateBlock)}export function buildBlock(e,t){const a=Array.isArray(t)?t:[[t]],o=document.createElement("div");return o.classList.add(e),a.forEach((e=>{const t=document.createElement("div");e.forEach((e=>{const a=document.createElement("div");(e.elems?e.elems:[e]).forEach((e=>{e&&("string"==typeof e?a.innerHTML+=e:a.appendChild(e))})),t.appendChild(a)})),o.appendChild(t)})),o}function getBlockConfig(e){const{blockName:t}=e.dataset,a=`${window.hlx.codeBasePath}/blocks/${t}/${t}.css`,o=`${window.hlx.codeBasePath}/blocks/${t}/${t}.js`,n={blockName:t,cssPath:a,jsPath:o};return(window.hlx.patchBlockConfig||[]).filter((e=>"function"==typeof e)).reduce(((e,t)=>t(e,n)),{blockName:t,cssPath:a,jsPath:o})}async function loadModule(e,t,a,...o){const n=a?loadCSS(a):Promise.resolve(),s=t?new Promise((e=>{(async()=>{let a;try{a=await import(t),a.default&&await a.default.apply(null,o)}catch(e){}e(a)})()})):Promise.resolve();return Promise.all([n,s]).then((([,e])=>e))}export async function loadBlock(e){const t=e.dataset.blockStatus;if("loading"!==t&&"loaded"!==t){e.dataset.blockStatus="loading";const{blockName:t,cssPath:a,jsPath:o}=getBlockConfig(e);try{await loadModule(t,o,a,e)}catch(e){}e.dataset.blockStatus="loaded"}}export async function loadBlocks(e){updateSectionsStatus(e);const t=[...e.querySelectorAll("div.block")];for(let a=0;a<t.length;a+=1)await loadBlock(t[a]),updateSectionsStatus(e)}export function getHref(){if("about:srcdoc"!==window.location.href)return window.location.href;const{location:e}=window.parent,t=new URLSearchParams(e.search);return`${e.origin}${t.get("path")}`}export function createOptimizedPicture(e,t="",a=!1,o=[{media:"(min-width: 400px)",width:"2000"},{width:"750"}]){const n=new URL(e,getHref()),s=document.createElement("picture"),{pathname:i}=n,r=i.substring(i.lastIndexOf(".")+1);return o.forEach((e=>{const t=document.createElement("source");e.media&&t.setAttribute("media",e.media),t.setAttribute("type","image/webp"),t.setAttribute("srcset",`${i}?width=${e.width}&format=webply&optimize=medium`),s.appendChild(t)})),o.forEach(((e,n)=>{if(n<o.length-1){const t=document.createElement("source");e.media&&t.setAttribute("media",e.media),t.setAttribute("srcset",`${i}?width=${e.width}&format=${r}&optimize=medium`),s.appendChild(t)}else{const o=document.createElement("img");o.setAttribute("loading",a?"eager":"lazy"),o.setAttribute("alt",t),o.setAttribute("title",t),s.appendChild(o),o.setAttribute("src",`${i}?width=${e.width}&format=${r}&optimize=medium`)}})),s}export function normalizeHeadings(e,t){const a=t.map((e=>e.toLowerCase()));e.querySelectorAll("h1, h2, h3, h4, h5, h6").forEach((e=>{const t=e.tagName.toLowerCase();if(-1===a.indexOf(t)){let o=parseInt(t.charAt(1),10)-1;for(;-1===a.indexOf(`h${o}`)&&o>0;)o-=1;if(0===o)for(;-1===a.indexOf(`h${o}`)&&o<7;)o+=1;7!==o&&(e.outerHTML=`<h${o} id="${e.id}">${e.textContent}</h${o}>`)}}))}export function decorateTemplateAndTheme(){const e=(e,t)=>{t.split(",").forEach((t=>{e.classList.add(toClassName(t.trim()))}))},t=getMetadata("template");t&&e(document.body,t);const a=getMetadata("theme");a&&e(document.body,a)}export function decorateButtons(e){e.querySelectorAll("a").forEach((e=>{if(e.title=e.title||e.textContent,e.href!==e.textContent){const t=e.parentElement,a=e.parentElement.parentElement;if(!e.querySelector("img")){if(1!==t.childNodes.length||"P"!==t.tagName&&"DIV"!==t.tagName||t.classList.add("button-container"),1===t.childNodes.length&&"STRONG"===t.tagName&&1===a.childNodes.length&&"P"===a.tagName){e.className="button primary",a.classList.add("button-container");const t=document.createElement("span");t.className="button-border",e.append(t)}1===t.childNodes.length&&"EM"===t.tagName&&1===a.childNodes.length&&"P"===a.tagName&&(e.className="button secondary",a.classList.add("button-container"))}}}))}export async function waitForLCP(e){const t=document.querySelector(".block");t&&e.includes(t.getAttribute("data-block-name"))&&await loadBlock(t),document.querySelector("body").classList.add("appear");const a=document.querySelector("main img");await new Promise((e=>{a&&!a.complete?(a.setAttribute("loading","eager"),a.addEventListener("load",e),a.addEventListener("error",e)):e()})),updateSectionsStatus(document.querySelector("main"))}export function loadHeader(e){const t=buildBlock("header","");return e.append(t),decorateBlock(t),loadBlock(t),t}export function loadFooter(e){const t=buildBlock("footer","");return e.append(t),decorateBlock(t),loadBlock(t)}function parsePluginParams(e,t){const a=t?e:e.split("/").splice(e.endsWith("/")?-2:-1,1)[0].replace(/\.js/,""),o={load:"eager",..."string"!=typeof t&&t?t:{url:(t||e).replace(/\/$/,"")}};return o.options||={},{id:a,config:o}}export const executionContext={createOptimizedPicture:createOptimizedPicture,getAllMetadata:getAllMetadata,getMetadata:getMetadata,decorateBlock:decorateBlock,decorateButtons:decorateButtons,decorateIcons:decorateIcons,loadBlock:loadBlock,loadCSS:loadCSS,loadScript:loadScript,sampleRUM:sampleRUM,toCamelCase:toCamelCase,toClassName:toClassName};class PluginsRegistry{#e;constructor(){this.#e=new Map}add(e,t){const{id:a,config:o}=parsePluginParams(e,t);this.#e.set(a,o)}get(e){return this.#e.get(e)}includes(e){return!!this.#e.has(e)}async load(e){return[...this.#e.entries()].filter((([,e])=>e.condition&&!e.condition(document,e.options,executionContext))).map((([e])=>this.#e.delete(e))),Promise.all([...this.#e.entries()].filter((([,t])=>(!t.condition||t.condition(document,t.options,executionContext))&&e===t.load&&t.url)).map((async([e,t])=>{try{const a=await loadModule(e,t.url.endsWith(".js")?t.url:`${t.url}/${e}.js`,t.url.endsWith(".js")?null:`${t.url}/${e}.css`,document,t.options,executionContext)||{};this.#e.set(e,{...t,...a})}catch(e){}})))}async run(e){return[...this.#e.values()].reduce(((t,a)=>!a[e]||a.condition&&!a.condition(document,a.options,executionContext)?t:t.then((()=>a[e](document,a.options,executionContext)))),Promise.resolve())}}class TemplatesRegistry{add(e,t){if(Array.isArray(e))return void e.forEach((e=>window.hlx.templates.add(e)));const{id:a,config:o}=parsePluginParams(e,t);o.condition=()=>toClassName(getMetadata("template"))===a,window.hlx.plugins.add(a,o)}get(e){return window.hlx.plugins.get(e)}includes(e){return window.hlx.plugins.includes(e)}}export function setup(){window.hlx=window.hlx||{},window.hlx.codeBasePath="",window.hlx.lighthouse="on"===new URLSearchParams(window.location.search).get("lighthouse"),window.hlx.patchBlockConfig=[],window.hlx.plugins=new PluginsRegistry,window.hlx.templates=new TemplatesRegistry;const e=document.querySelector('script[src$="/scripts/scripts.js"]');if(e)try{[window.hlx.codeBasePath]=new URL(e.src).pathname.split("/scripts/scripts.js")}catch(e){}}function init(){setup(),sampleRUM("top"),window.addEventListener("load",(()=>sampleRUM("load"))),window.addEventListener("unhandledrejection",(e=>{sampleRUM("error",{source:e.reason.sourceURL,target:e.reason.line})})),window.addEventListener("error",(e=>{sampleRUM("error",{source:e.filename,target:e.lineno})}))}init();